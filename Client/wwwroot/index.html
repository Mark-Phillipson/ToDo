<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Todo Application</title>
    <base href="/" />
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />
   	<link href="manifest.json" rel="manifest" />
	<link rel="apple-touch-icon" sizes="512x512" href="icon-512.png" />
	<!-- Removed broken blazored-toast.min.css (404 in publish); bundle css below covers styles -->
	<link href="_content/Blazored.Toast/Blazored.Toast.bundle.scp.css" rel="stylesheet" />
    <link href="Client.styles.css" rel="stylesheet" />
</head>

<body>
    <div id="app">
		<div class="jumbotron jumbotron-fluid">
			<div class="container">
				<h1 class="display-4">Loading please wait.</h1>
				<p class="lead">This application is powered by Blazor</p>
				<hr class="my-4">
				<p>It will load momentarily..Honest</p>
			</div>
		</div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>
    <script>navigator.serviceWorker.register('service-worker.js');</script>
	<script src="js/inputfile.js"></script>
	<script>
		// Online/Offline status monitoring
		window.blazorOnlineStatus = {
			isOnline: function() {
				return navigator.onLine;
			},
			initialize: function(dotNetHelper) {
				window.addEventListener('online', function() {
					dotNetHelper.invokeMethodAsync('OnOnlineStatusChanged', true);
				});
				window.addEventListener('offline', function() {
					dotNetHelper.invokeMethodAsync('OnOnlineStatusChanged', false);
				});
			}
		};

		// Removed synthetic CallChange keyup trigger; Blazor two-way binding handles updates.
		window.setFocus = (elementId) => {
			setTimeout(internalFocus, 10, elementId);
		};
		function internalFocus(elementId) {
			var element = document.getElementById(elementId);
			if (element == null) {
				setTimeout(internalFocus, 10, elementId);
				return;
			}
			element.focus();
			element.select();
		}
		window.myJsFunctions = {
			focusElement: function (element) {
				element.focus();
			}
		}
		window.clipboardCopy = {
			copyText: function (Text) {
				navigator.clipboard.writeText(Text).then(function () {
					// alert("Copied to clipboard! " + Text);
				})
					.catch(function (error) {
						alert(error);
					});
			}
		}
		function saveAsFile(filename, bytesBase64) {
			var link = document.createElement('a');
			link.download = filename;
			link.href = "data:application/octet-stream;base64," + bytesBase64;
			document.body.appendChild(link); // Needed for Firefox
			link.click();
			document.body.removeChild(link);
		}

	</script>
</body>

</html>
