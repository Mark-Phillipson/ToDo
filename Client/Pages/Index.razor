@page "/"

<div class="d-lg-none"><CopyToClipboard Rows="5"></CopyToClipboard></div>

<div class="d-none d-lg-block">
    <div class="jumbotron">
        <h1 class="display-4">Welcome to your new to do app!</h1>
        <h2>Click on the to-do list to get started</h2>
        <p class="lead">Please note this is experimental, and uses Local Storage to make it completely self-contained.</p>
        <hr class="my-4">
        <p>This application is also a PWA, so can be installed locally on a device.</p>
        <div class="d-flex flex-column flex-md-row justify-content-center align-items-center gap-3 my-3">
            <button class="btn btn-success px-4 py-2" @onclick="InstallPWA">Install PWA</button>
            <button class="btn btn-warning px-4 py-2" @onclick="RefreshApp">Refresh App from Source</button>
            <a class="btn btn-primary px-4 py-2" href="https://github.com/Mark-Phillipson/ToDo" role="button">Github Repo</a>
        </div>
        <!-- Github Repo button now only appears in the flex group below -->
    </div>
</div>
@code {
    [Inject] IJSRuntime? JS { get; set; }

    private async Task InstallPWA()
    {
        if (JS != null)
        {
            var outcome = await JS.InvokeAsync<string>("installPWA");
            // Optionally show a message based on outcome
        }
    }

    private async Task RefreshApp()
    {
        if (JS != null)
        {
            await JS.InvokeVoidAsync("refreshApp");
        }
    }
}
